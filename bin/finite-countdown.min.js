(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;q=require("moment"),require("moment-timezone"),require("jquery"),e={selector:".countdown",timezone:"America/Los_Angeles",format:"hh:mm:ss",delimiter:":",show_units:!1,remove_on_end:!1},i=/d/i,j=/dd/i,k=/h/i,l=/hh/i,m=/m/i,n=/mm/i,o=/s/i,p=/ss/i,f=function(f,g){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;return g||(g=e),L=g.selector||".countdown",N=g.timezone||"America/Los_Angeles",D=g.format||"hh:mm:ss",C=g.delimiter||":",M=g.show_units||!1,I=g.remove_on_end||!1,A=D.match(i)?!0:!1,E=D.match(k)?!0:!1,G=D.match(m)?!0:!1,J=D.match(o)?!0:!1,B=D.match(j)?!0:!1,F=D.match(l)?!0:!1,H=D.match(n)?!0:!1,K=D.match(n)?!0:!1,p=$(L),s=$("<span/>").addClass("delimiter").text(C),A&&(q=$("<span/>").addClass("days")),E&&(t=$("<span/>").addClass("hours")),G&&(v=$("<span/>").addClass("minutes")),J&&(x=$("<span/>").addClass("seconds")),A&&M&&(r=$("<span/>").addClass("days-unit").text(" Days ")),E&&M&&(u=$("<span/>").addClass("hours-unit").text(" Hours ")),G&&M&&(w=$("<span/>").addClass("minutes-unit").text(" Minutes ")),J&&M&&(y=$("<span/>").addClass("seconds-unit").text(" Seconds ")),A&&p.append(q),A&&M&&p.append(r),E&&p.append(t),E&&M&&p.append(u),G&&p.append(v),G&&M&&p.append(w),J&&p.append(x),J&&M&&p.append(y),M===!1&&(O=p.find("span"),O.splice(O.length-1,1),$.each(O,function(a,b){return s.clone().insertAfter($(b))})),z=setInterval(function(){var e,g,i,j,k;return e=void 0,g=void 0,i=void 0,k=void 0,j=h(f,N)/1e3,A&&(e=a(j),e>-1&&10>e&&B&&(e="0"+e),j%=86400),E&&(g=b(j),g>-1&&10>g&&F&&(g="0"+g),j%=3600),G&&(i=c(j),i>-1&&10>i&&H&&(i="0"+i),j%=60),k=d(j),k>-1&&10>k&&K&&(k="0"+k),A&&q.html(""+e),E&&t.html(""+g),G&&v.html(""+i),J&&x.html(""+k),M&&(A&&(1===parseInt(e)&&r.text(" Day "),1!==parseInt(e)&&" Days "!==r.text()&&r.text(" Days ")),E&&(1===parseInt(g)&&u.text(" Hour "),1!==parseInt(g)&&" Hours "!==u.text()&&u.text(" Hours ")),G&&(1===parseInt(i)&&M&&w.text(" Minute "),1!==parseInt(i)&&" Minutes "!==w.text()&&w.text(" Minutes ")),J&&(1===parseInt(k)&&M&&y.text(" Second "),1!==parseInt(k)&&" Seconds "!==y.text()&&y.text(" Seconds "))),0>j?(I&&p.remove(),clearInterval(z)):void 0},1e3)},a=function(a){var b;return b=Math.floor(a/86400)},b=function(a){var b;return b=Math.floor(a/3600)},c=function(a){var b;return b=Math.floor(a/60)},d=function(a){var b;return b=Math.floor(a)},g=function(a){var b,c,d;return c=new Date,d=new Date(q.tz(c,a).format("YYYY/MM/DD, HH:mm:ss")),b=c-d},h=function(a,b){var c,d,e;return e=new Date,c=new Date(new Date(a).getTime()+g(b)),d=c-e},module.exports=f}).call(this);