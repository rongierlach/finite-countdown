(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;p=require("moment"),require("moment-timezone"),require("jquery"),h=/d/i,i=/dd/i,j=/h/i,k=/dd/i,l=/m/i,m=/mm/i,n=/m/i,o=/mm/i,e=function(e,f){var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;return B={selector:".countdown",timezone:"America/Los_Angeles",format:"hh:mm:ss",delimiter:":",show_units:!1,remove_on_end:!1},f||(f=B),L=f.selector||".countdown",N=f.timezone||"America/Los_Angeles",D=f.format||"hh:mm:ss",C=f.delimiter||":",M=f.show_units||!1,I=f.remove_on_end||!1,z=D.match(h),E=D.match(j),G=D.match(l),J=D.match(n),A=D.match(i),F=D.match(k),H=D.match(m),K=D.match(m),o=$(L),r=$("<span/>").addClass("delimiter").text(C),z&&(p=$("<span/>").addClass("days")),E&&(s=$("<span/>").addClass("hours")),G&&(u=$("<span/>").addClass("minutes")),J&&(w=$("<span/>").addClass("seconds")),z&&M&&(q=$("<span/>").addClass("days-unit").text("Days")),E&&M&&(t=$("<span/>").addClass("hours-unit").text("Hours")),G&&M&&(v=$("<span/>").addClass("minutes-unit").text("Minutes")),J&&M&&(x=$("<span/>").addClass("seconds-unit").text("Seconds")),z&&o.append(p),z&&M&&o.append(q),E&&o.append(s),E&&M&&o.append(t),G&&o.append(u),G&&M&&o.append(v),J&&o.append(w),J&&M&&o.append(x),M||(O=o.find("span"),O.pop(),$.each(O,function(a){return $(a).insertAfter(r)})),y=setInterval(function(){var f,h,i,j,k;return f=void 0,h=void 0,i=void 0,k=void 0,j=g(e,N)/1e3,z&&(f=a(j),f>-1&&10>f&&A&&(f="0"+f),j%=86400),E&&(h=b(j),h>-1&&10>h&&F&&(h="0"+h),j%=3600),G&&(i=c(j),i>-1&&10>i&&H&&(i="0"+i),j%=60),J&&(k=d(j),k>-1&&10>k&&K&&(k="0"+k)),z&&p.html(""+f),E&&s.html(""+h),G&&u.html(""+i),J&&w.html(""+k),0>k?(I&&o.remove(),clearInterval(y)):void 0},1e3)},a=function(a){var b;return b=Math.floor(a/86400)},b=function(a){var b;return b=Math.floor(a/3600)},c=function(a){var b;return b=Math.floor(a/60)},d=function(a){var b;return b=Math.floor(a)},f=function(a){var b,c,d;return c=new Date,d=new Date(p.tz(c,a).format("YYYY/MM/DD, HH:mm:ss")),b=c-d},g=function(a,b){var c,d,e;return e=new Date,c=new Date(new Date(a).getTime()+f(b)),d=c-e},module.exports=e}).call(this);